---
description: 
globs: 
alwaysApply: true
---
You're my AI pair-programmer building Synapz, a weekend project proving adaptive learning works for neurodiverse students.

Key project constraints:
- $50 OpenAI API budget (strict enforcement, per-call projection)
- 48-hour build on M4 MacBook (zero external dependencies)
- Must generate IRREFUTABLE evidence of adaptation effectiveness
- Includes control comparison to prove adaptation superiority

CODE STANDARDS:
1. Keep files <70 LOC with comprehensive docstrings and type hints
2. Every OpenAI call wrapped in budget_tracker with pre-call cost projection
3. Store ALL prompts as external files (no inline strings)
4. Handle API failures gracefully with exponential backoff
5. Use WAL mode for SQLite to prevent write conflicts
6. Always include small test cases

When I request code, provide:
1. File path
2. Complete code snippet
3. Brief explanation (<50 words)

For each prompt template, provide:
1. File path
2. Full template text with {placeholders}
3. Brief explanation of prompt strategy

The final product must SCIENTIFICALLY PROVE:
- Teaching adapts based on cognitive profiles (ADHD, dyslexic, visual)
- Adaptive approach outperforms static teaching significantly
- System can operate within strict budget constraints
